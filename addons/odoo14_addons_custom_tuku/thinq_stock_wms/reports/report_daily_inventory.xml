<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <template id="report_daily_inventory">
            <t t-call="web.html_container">
                <div class="header">
                    <!-- <table style="width:100%;">
                        <tr>
                            <td style="vertical-align: top;"><img class="img img-responsive"
                                src="/thinq_stock_wms/static/description/logocas.png"
                                style="height: 100px;width:100px;float:left;"
                                /></td>
                            <td class="text-center" style="vertical-align: top;border-bottom:1px solid black !important"><h3><b>Report Daily Inventory</b></h3></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="text-center"><h4><b><t t-esc="form.get('date_from')" /> - <t t-esc="form.get('date_to')" /></b></h4></td>
                            <td class="text-center"><h4><b>2020/07/21 - 2020/07/21</b></h4></td>
                            <td></td>
                        </tr>
                    </table> -->
                    <div class="row">
                        <div class="col-2">
                            <img class="img img-responsive"
                                src="/thinq_stock_wms/static/description/logocas.png"
                                style="height: 100px;width:100px;float:left;"
                                />     
                        </div>
                        <div class="col-8 text-center">
                            <h3><b><u>Report Daily Inventory</u></b></h3>
                            <t t-if="date_from == date_to">
                                <b>Date : <t t-esc="date_from"/></b>
                            </t>
                            <t t-else="">
                                <b>Date : <t t-esc="date_from"/> - <t t-esc="date_to"/></b>
                            </t>       
                        </div>
                        <div class="col-2">
                        </div>
                    </div>
                </div>
                <hr />
                <div class="article">
                    <div class="page">
                        <table class="table table-bordered">
                            <t t-set="product_id" t-value=""/>
                            <t t-foreach="product_datas" t-as="product">  
                                <t t-set="no" t-value="0"/>
                                <t t-if="product_id != product.get('product_id')">
                                    <tr>
                                        <td colspan="5" style="font-weight: bold;background:#b5b5b5;font-size:14px !important;">Product : <span t-esc="product.get('name')"/></td>
                                    </tr>
                                    <t t-set="product_id" t-value="product.get('product_id')"/>
                                </t>
                                <tr>
                                    <td colspan="2" style="font-weight: bold;background:#b5b5b5;font-size:14px !important;">Location : <span t-esc="product.get('location_name')"/></td>
                                    <td style="font-weight: bold;background:#b5b5b5;font-size:14px !important;">Qty Before Move :<span t-esc="'{:20,.0f}'.format(product.get('qty_before_move'))"/></td>
                                    <td style="font-weight: bold;background:#b5b5b5;font-size:14px !important;">Qty Move :<span t-esc="'{:20,.0f}'.format(product.get('qty_move'))"/></td>
                                    <td style="font-weight: bold;background:#b5b5b5;font-size:14px !important;">Qty Available :<span t-esc="'{:20,.0f}'.format(product.get('qty_available'))"/></td>
                                </tr>
                                <tr>
                                    <td style="background:#ebebeb;font-size:14px !important;"></td>
                                    <td style="background:#ebebeb;font-size:14px !important;">Picking Name</td>
                                    <td style="background:#ebebeb;font-size:14px !important;">Source Location</td>
                                    <td style="background:#ebebeb;font-size:14px !important;">Destination Location</td>
                                    <td style="background:#ebebeb;font-size:14px !important;">Quntity Done</td>
                                </tr>
                                <t t-foreach="product.get('detail')" t-as="details">
                                    <t t-set="no" t-value="no+1"/>
                                    <tr>
                                        <td style="font-size:14px !important;"><span t-esc="no"/></td>
                                        <td style="font-size:14px !important;"><span t-esc="details.get('picking_name')"/></td>
                                        <td style="font-size:14px !important;"><span t-esc="details.get('location')"/></td>
                                        <td style="font-size:14px !important;"><span t-esc="details.get('location_dest')"/></td>
                                        <td class="text-right" style="font-size:14px !important;"><span t-esc="'{:20,.0f}'.format(details.get('qty_done'))"/></td>
                                    </tr>
                                </t>  
                            </t>
                        </table>
                    </div>
                </div>
            </t>
        </template>
    </data>
</odoo>